<!--Irish Language support probably wrong(I used google translate)-->
<div class="container-fluid">
    <div class="container">
        <div id="selectorDiv" style="display:block">
            <h3>Dictogloss</h3>
            <p *ngIf="!showInfo" class="infoButtonText" (click)="showInfo = true;">{{ts.l.dictgloss_usage}}?</p>
            <input id="textSelector">
            <button style="margin:4px; border-radius: 4px;" (click)="dictglossLoad();">{{ts.l.dictgloss_enter_story}}</button>
        </div>
        <span style="color: red;" *ngIf="errorText">{{ts.l.dictogloss_error}}</span>
        <div *ngIf="hasText">
            <hr>
            <h3>{{ts.l.dictgloss_audio}}</h3>
            <!--Voice Synthesis-->
            <div class="playback">
                <div class="synth-item" *ngFor="let si of synthItems; let i = index">
                    <app-synth-item class="synth" [synthItem]=si [i]=i></app-synth-item>
                </div>
                <!-- Select dialect -->
                <synth-voice-select style="margin: 4px" (selectVoice)="refresh($event)"></synth-voice-select>
            </div>
            <hr>
            <div class="buttons-and-templates"> 
                <div *ngFor="let i of wordsPunc; let index = index">
                    <div *ngIf="isNotPunctuated(i); else punctuated;">
                        <span class="unguessed-class" *ngIf="shownWords[index] !== wordsPunc[index] && !(this.shownWords[index].slice(0, 1) === this.wordsPunc[index].slice(0, 1));">
                            <span class="hint">{{ts.l.dictgloss_hint}}</span>
                            <button class="button-unguessed" (click)="firstChar(index); generalCheck();">
                                <h5 class="button-text">{{shownWords[index]}}</h5>
                            </button>
                        </span>
                        <span *ngIf="shownWords[index] !== wordsPunc[index] && this.shownWords[index].slice(0, 1) === this.wordsPunc[index].slice(0, 1);">
                            <button class="button-pressed">
                                <h5 class="button-text">{{shownWords[index]}}</h5>
                            </button>
                        </span>
                        <span *ngIf="shownWords[index] === wordsPunc[index];">
                            <button class="button-guessed">
                                <h5 class="button-text">{{shownWords[index]}}</h5>
                            </button>
                        </span>
                    </div>
                    <ng-template #punctuated><b><h5 style="margin: 2px;">{{i}}</h5></b></ng-template>
                </div>
            </div>
            <hr>
            <div *ngIf="!allGuessed; else correct;">
                <div><b>{{displayTime(totalTime)}}</b></div>
                <input id="guesses_input">
                <button style="margin:4px; border-radius: 4px;" (click)="delimitPotentialWords();">{{ts.l.dictgloss_guess}}</button>
                <div>
                    <b style="color:green; padding-right: 1em;">{{ts.l.dictgloss_correct}}: {{rightCount}}</b>
                    <b style="color:red;padding-left: 1em;">{{ts.l.dictgloss_incorrect}}: {{wrongCount}}</b>
                </div>
                <div>
                    <b>{{ts.l.dictgloss_guessed1}}{{rightCount}}{{ts.l.dictgloss_guessed2}}{{words.length}}{{ts.l.dictgloss_guessed3}}</b>
                </div>
                <div [innerHtml]="wrong_words_div" *ngIf="hasIncorrect">
                </div>
            </div>
            <ng-template  #correct>
                <i><h2 class="victory">{{ts.l.dictgloss_victory}}</h2></i>
                <b><h2>{{ts.l.dictgloss_final_time}}{{displayTime(totalTime)}}</h2></b>
                <button class="victory-button" (click)="hasText = false;">{{ts.l.dictgloss_new}}</button>
                <button class="victory-button" routerLink="/landing" (click)="hasText = false; changeCheck();">{{ts.l.dictgloss_return}}</button>
            </ng-template>
        </div>
    </div>
    <div *ngIf="showInfo" style="max-width: 600px; height: 280px;" class="container">
        <h3>{{ts.l.dictgloss_usage}}&ensp;</h3>
        <h5>{{ts.l.dictgloss_1}}&ensp;</h5>
        <h5>{{ts.l.dictgloss_2}}&ensp;</h5>
        <h5>{{ts.l.dictgloss_3}}&ensp;</h5>
        <h5>{{ts.l.dictgloss_tip}}&ensp;</h5>
        <div class="infoBoxButton" (click)="showInfo = false;">‚ùå</div>
    </div>
</div>